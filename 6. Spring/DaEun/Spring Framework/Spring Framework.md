# Spring Framework
<details>
<summary><h3>📑목차</h3></summary>
<div markdown="1">

- [추상클래스 (Abstract)](#추상클래스-abstract)

</div>
</details>
<br>

- 스프링 프레임워크란
    - Spring, Spring MVC, Spring Boot, 레거시 의 차이
    - POJO

## Spring Framework
`Java` 기반의 오픈 소스 어플리케이션 프레임워크로 **엔터프라이즈급 어플리케이션을 개발하고 관리**하기 위한 다양한 기능과 도구를 제공한다. 언터프라이즈급 개발은 직역하면 기업 환경을 대상으로하는 개발을 뜻하며, **크고 복잡한 요구사항을 충족**시키기 위해 설계, 운영되는 소프트웨어 어플리케이션 개발을 말한다. 

Spring Framework가 등장하기 이전에 웹사이트가 점점 커지면서 엔터프라이즈급 서비스가 필요하게 되었고, `EJB`(Enterprise JavaBean) 개발환경이 각광받으며 어플리케이션을 쉽게 작성할 수 있게 되었다. 하지만 `EJB` 환경은 **복잡한 스펙**을 요구하기 때문에 진입장벽이 높고 **반드시 EJB 서버가 필요**했으며 컨테이너에 배포해야 했기 때문에 **개발 효율성이 저하**되는 등의 단점을 가지고 있었다. 

이런 배경으로 인해 EJB를 사용하지 않으면서 엔터프라이즈급 개발이 가능한 방법론이 요구되었고, **POJO**를 기반으로한 **경량 프레임워크**인 **Spring Framework가 등장**했다.

- 대규모 어플리케이션을 만들기 위한 모든 기능 종합적으로 제공하는 경량화된 솔루션
- JEE가 제공하는 다수 기능 지원
- DI, AOP와 같은 기능 지원
- 개발자가 복잡하고 실수하기 쉬운 low 레벨에 신경쓰지 X
- 비즈니스 로직 개발에 전념할 수 있도록 도와줌


<br>

## Spring framework 구조 (Spring 삼각형)
스프링은 `POJO`를 기반으로 3개의 핵심 개념(`IoC/DI`, `AOP`, `PSA`)들로 표현할 수 있다. 

<p align="center">
    <img src="./img/스프링삼각형.png" width="430px">
</p>

<br>

### POJO(Plain Old Java Object)
특정 프레임워크나 라이브러리에 종속적이지 않은 객체지향 원리에 충실한 순수한 자바 클래스로 작성된 객체를 의미한다. Spring Framework는 POJO에 어플리케이션의 핵심 로직과 기능을 담아 설계하고 개발한다. 이를 POJO 프로그래밍이라고 하는데, Spring Framework는 POJO 프로그래밍을 위해 `IoC/DI`, `AOP`, `PSA`를 통해 지원한다.

스프링 이전에는 
어플리케이션 요구사항 변경 시 특정 기술 사용된 부분 모두 수정
특정 환경에 종속적이지 않다 -> 특정 프레임워크에서만 동작이 가능하면 안된다. 
POJO는 환경에 독립적이어야 함 
비즈니스 로직을 담고 있는 POJO는 웹 기반의 환경 정보나 웹 기술 담고 있는 클래스, 인터페이스 사용X

HTTPServletRequest, HttpSejssion 등 API 사용 


#### POJO 프로그래밍 필요성
- 특정 환경, 기술에 종속적이지 않아 **재사용**이 가능하며 **확장성이 유연**함
- 저수준 레벨의 기술 및 환경에 종속적인 코드 제거로 인한 **코드 간결성** 
- **테스트하기 용이**
- **객체 지향 설계**를 자유롭게 적용할 수 있음

<br>


### 1️⃣ IoC / DI
#### Inversion of Control (제어의 역전)
어플리케이션 개발에서 객체의 생명주기와 의존성 관리를 개발자가 아닌 스프링에게 위임하는 개념이다. 이전에는 개발자가 직접 객체를 생성하고 관리했지만, Spring에서는 IoC 컨테이너(스프링 컨테이너)가 객체를 생성하고 필요한 의존성을 주입해준다. 유연하게 확장 가능한 객체를 만들어 두고 객체 간의 의존관계는 외부에서 동적으로 설정해주는 것이다. 이로 인해 코드의 결합도가 낮아지며 유지 보수가 용이해진다. 

#### Dependency Injection (의존성 주입)


<br>

### 2️⃣ PSA(Portable Service Abstraction)
환경과 세부기술의 변경에 관계없이 일관된 방식으로 기술에 접근할 수 있게 해주는 설계 원칙

트랜잭션 추상화 / OXM 추상화 / 데이터 액세스의 Exception 변환 기능 등 기술적인 복잡함은 추상화를 통해 low level의 기술 구현 부분과 기술을 사용하는 인터페이스로 분리

ex) DB에 관계없이 동일하게 적용할 수 있는 트랜잭션 처리 방식

<br>

### 3️⃣ AOP

**Aspect Oriented Programming (관점 지향 프로그래밍)**

관심사의 분리를 통해 소프트웨어의 모듈성 향상

공통 모듈을 여러 코드에 쉽게 적용 가능

*공통관심: 여러 부분에서 공통적으로 사용할 수 있는 것

*핵심관심: 비즈니스 로직 자체 

*5가지의 관점 존재 (**관점** = 실행되는 시점(관심과는 다름))

<br>

## Spring Framework특징

### 경량 컨테이너

스프링은 자바 객체를 담고 있는 컨테이너

자바 객체의 생성, 소멸과 같은 라이프사이클 관리

언제든지 스프링 컨테이너로부터 필요한 객체 가져와 사용 가능

### DI 패턴 지원

설정파일이나 어노테이션을 통해 객체 간의 의존관계 설정 가능

따라서 객체는 의존하고 있는 객체를 직접 생성하거나 검색할 필요 X

→ 검색할 필요 없다는 의미는 DL 방식의 IoC는 찾아서 사용하는데 

→ DI 방식은 검색할 필요도 X

loose coupling (느슨한 결합) 

### AOP  지원

문제를 바라보는 관점을 기준으로 프로그래밍하는 기법

핵심관심과 공통관심을 기준으로 프로그래밍

Spring에서는 자체적으로 프록시 기반의 AOP 지원

→ 여러 모듈에서 공통으로 필요하지만 실제 모듈의 핵심 기능이 아닌 것들을 분리하여 각 모듈에 적용 가능 (ex. 트랜잭션, 로깅, 보안 등)

### POJO 지원

특정 인터페이스를 구현하거나 또는 클래스를 상속하지 않는 POJO 지원

스프링 컨테이너에 저장되는 자바객체는 특정한 인터페이스를 구현하거나 클래스 상속 없이도 사용이 가능함

일반적인 자바 객체를 칭하기 위한 별칭 개념 → POJO

### IoC

객체 생성 및 의존관계의 모든 제어권: **개발자 → Spring(IoC) Container** 

스프링의 핵심 기능으로 객체를 필요한 순간에 생성하여 사용하는 것이 아니라, 미리 주입하거나 찾아서 사용

종류로 **DI**(Dependency Injection), **DL**(Dependency Lookup) 존재

### 영속성과 관련된 API 지원

JDBC를 비롯하여 iBatis, MyBatis, Hibernate, JPA 등 DB처리를 위해 사용되는 라이브러리와 연동을 지원함
