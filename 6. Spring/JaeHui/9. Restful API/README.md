# Restful API

애플리케이션 프로그래밍 인터페이스(API)는 다른 소프트웨어 시스템과 통신하기 위해 따라야 하는 규칙을 정의하는 것을 말합니다. <br>
개발자는 다른 애플리케이션이 프로그래밍 방식으로 애플리케이션과 통신할 수 있도록 API를 표시하거나 생성합니다. <br><br>

Representational State Transfer(REST)란 API 작동 방식에 대한 조건을 부과하는 소프트웨어 아키텍처입니다. <br>
REST는 처음에 인터넷과 같은 복잡한 네트워크에서 통신을 관리하기 위한 지침으로 만들어졌습니다.<br><br>

RESTful API는 REST 아키텍처 스타일을 따르는 API를 의미합니다. <br>
정확히 말하면 두 컴퓨터 시스템이 인터넷을 통해 정보를 안전하게 교환하기 위해 사용하는 인터페이스입니다. <br><br>

즉, REST란,<br>
HTTP URI(Uniform Resource Identifier)를 통해 자원(Resource)을 명시하고,<br>
HTTP Method(POST, GET, PUT, DELETE, PATCH 등)를 통해<br>
해당 자원(URI)에 대한 CRUD Operation을 적용하는 것을 의미합니다.<br><br>

```
✅ CRUD Operation
CRUD는 대부분의 컴퓨터 소프트웨어가 가지는 기본적인 데이터 처리 기능인 Create(생성), Read(읽기), Update(갱신), Delete(삭제)를 묶어서 일컫는 말로
REST에서의 CRUD Operation 동작 예시는 다음과 같습니다.
- Create: 데이터 생성(POST)
- Read: 데이터 조회(GET)
- Update: 데이터 수정(PUT, PATCH)
- Delete: 데이터 삭제(DELETE)
```

## REST의 특징

1️⃣ Server-Client(서버-클라이언트 구조)<br>
2️⃣ Stateless(무상태)<br>
3️⃣ Cacheable(캐시 처리 가능)<br>
4️⃣ Layered System(계층화)<br>
5️⃣ Uniform Interface(인터페이스 일관성)<br>

## RESTful API 장점

- 확장성: REST API를 구현하는 시스템은 REST가 클라이언트-서버 상호 작용을 최적화하기 때문에 효율적으로 크기 조정할 수 있습니다. 무상태는 서버가 과거 클라이언트 요청 정보를 유지할 필요가 없기 때문에 서버 로드를 제거합니다. 잘 관리된 캐싱은 일부 클라이언트-서버 상호 작용을 부분적으로 또는 완전히 제거합니다. 이러한 모든 기능은 성능을 저하시키는 통신 병목 현상을 일으키지 않으면서 확장성을 지원합니다.
- 유연성: RESTful 웹 서비스는 완전한 클라이언트-서버 분리를 지원합니다. 각 부분이 독립적으로 발전할 수 있도록 다양한 서버 구성 요소를 단순화하고 분리합니다. 서버 애플리케이션의 플랫폼 또는 기술 변경은 클라이언트 애플리케이션에 영향을 주지 않습니다. 애플리케이션 함수를 계층화하는 기능은 유연성을 더욱 향상시킵니다. 예를 들어, 개발자는 애플리케이션 로직을 다시 작성하지 않고도 데이터베이스 계층을 변경할 수 있습니다.
- 독립성: REST API는 사용되는 기술과 독립적입니다. API 설계에 영향을 주지 않고 다양한 프로그래밍 언어로 클라이언트 및 서버 애플리케이션을 모두 작성할 수 있습니다. 또한 통신에 영향을 주지 않고 양쪽의 기본 기술을 변경할 수 있습니다.

```json
✅ RESTful API 클라이언트 요청에 포함되는 것
- 고유 리소스 식별자
- 메서드
- GET: 서버의 지정된 URL에 있는 리소스에 액세스합니다. GET 요청을 캐싱하고 RESTful API 요청에 파라미터를 넣어 전송하여 전송 전에 데이터를 필터링하도록 서버에 지시할 수 있습니다.
- POST: 클라이언트는 POST를 사용하여 서버에 데이터를 전송합니다. 여기에는 요청과 함께 데이터 표현이 포함됩니다. 동일한 POST 요청을 여러 번 전송하면 동일한 리소스를 여러 번 생성하는 부작용이 있습니다.
- PUT: 클라이언트는 PUT을 사용하여 서버의 기존 리소스를 업데이트합니다. POST와 달리, RESTful 웹 서비스에서 동일한 PUT 요청을 여러 번 전송해도 결과는 동일합니다.
- DELETE: 클라이언트는 DELETE 요청을 사용하여 리소스를 제거합니다. DELETE 요청은 서버 상태를 변경할 수 있습니다. 하지만 사용자에게 적절한 인증이 없으면 요청은 실패합니다.
- HTTP 헤더: 요청 헤더는 클라이언트와 서버 간에 교환되는 메타데이터입니다. 예를 들어, 요청 헤더는 요청 및 응답의 형식을 나타내고 요청 상태 등에 대한 정보를 제공합니다.
- 데이터: REST API 요청에는 POST, PUT 및 기타 HTTP 메서드가 성공적으로 작동하기 위한 데이터가 포함될 수 있습니다.
- 파라미터: RESTful API 요청에는 수행해야 할 작업에 대한 자세한 정보를 서버에 제공하는 파라미터가 포함될 수 있습니다. 다음은 몇 가지 파라미터 유형입니다.
  - URL 세부정보를 지정하는 경로 파라미터.
  - 리소스에 대한 추가 정보를 요청하는 쿼리 파라미터.
  - 클라이언트를 빠르게 인증하는 쿠키 파라미터.
```

```json
✅ RESTful API 서버 응답에 포함되는 것
- 상태 표시줄
상태 표시줄에는 요청 성공 또는 실패를 알리는 3자리 상태 코드가 있습니다. 예를 들어, 2XX 코드는 성공을 나타내고 4XX 및 5XX 코드는 오류를 나타냅니다. 3XX 코드는 URL 리디렉션을 나타냅니다.
다음은 몇 가지 일반적인 상태 코드입니다.
200: 일반 성공 응답
201: POST 메서드 성공 응답
400: 서버가 처리할 수 없는 잘못된 요청
404: 리소스를 찾을 수 없음
- 메시지 본문: 응답 본문에는 리소스 표현이 포함됩니다. 서버는 요청 헤더에 포함된 내용을 기반으로 적절한 표현 형식을 선택합니다. 클라이언트는 데이터 작성 방식을 일반 텍스트로 정의하는 XML 또는 JSON 형식으로 정보를 요청할 수 있습니다. 예를 들어, 클라이언트가 John이라는 사람의 이름과 나이를 요청하면 서버는 다음과 같이 JSON 표현을 반환합니다.
'{"name":"John", "age":30}'
- 헤더: 응답에는 응답에 대한 헤더 또는 메타데이터도 포함됩니다. 이는 응답에 대한 추가 컨텍스트를 제공하고 서버, 인코딩, 날짜 및 콘텐츠 유형과 같은 정보를 포함합니다.
```

## [REST API 설계 예시](https://khj93.tistory.com/entry/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-REST-API%EB%9E%80-REST-RESTful%EC%9D%B4%EB%9E%80)

1. URI는 동사보다는 명사를, 대문자보다는 소문자를 사용하여야 한다.

```
Bad Example http://khj93.com/Running/
Good Example  http://khj93.com/run/
```

2. 마지막에 슬래시 (/)를 포함하지 않는다.

```
Bad Example http://khj93.com/test/
Good Example  http://khj93.com/test
```

3. 언더바 대신 하이폰을 사용한다.

```
Bad Example http://khj93.com/test_blog
Good Example  http://khj93.com/test-blog
```

4. 파일확장자는 URI에 포함하지 않는다.

```
Bad Example http://khj93.com/photo.jpg
Good Example  http://khj93.com/photo
```

5. 행위를 포함하지 않는다.

```
Bad Example http://khj93.com/delete-post/1
Good Example  http://khj93.com/post/1
```
