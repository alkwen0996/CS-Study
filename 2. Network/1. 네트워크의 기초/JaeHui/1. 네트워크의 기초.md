# 2.1 네트워크의 기초

## 2.1.1 처리량과 지연 시간

### 네트워크란?

네트워크란 `노드`와 `링크`가 서로 `연결`되어 있으며, `리소스를 공유`하는 `집합`을 의미합니다. <br>
`노드`란 `서버`, `라우터`, `스위치` 등 `네트워크 장치`를 의미하고 <br>
`링크`는 `유선` 또는 `무선`을 의미합니다.

### 처리량(throughput)이란?

좋은 네트워크를 만들기 위해서는 많은 처리량을 처리할 수 있어야 합니다. <br>
처리량은 링크 내에서 `성공적으로 전달된 데이터의 양`으로, 즉 `트래픽 처리량`을 의미합니다.<br>
많은 트래픽을 처리한다는 것은 많은 처리량을 가진다는 것입니다.
단위는 `bps`(bits per second)이며, 초당 전송/수신되는 비트 수라는 의미입니다.<br>
`사용자 트래픽`, `네트워크 장치 간 대역폭`, `에러`, `장치의 하드웨어 스펙`에 `영향`을 받습니다. <br><br>
`트래픽`은 `특정 시점`에 `링크` 내에 `흐르는 데이터의 양`으로, 대표적인 예시로는 `파일 다운로드` 시 발생되는 데이터의 누적량이 있습니다. <br><br>
`트래픽`은 `흐르는 데이터의 양`이며, `처리량`은 `처리되는 트래픽의 양`입니다.<br>

```
💡 대역폭이란?
주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수를 의미합니다.
```

### 지연시간(latency)이란?

지연시간이란 `요청이 처리되는 시간`으로, 어떤 `메시지`가 `두 장치 사이를 왕복`하는 데 걸린 시간을 의미합니다. <br>
`매체 타입`(유/무선), `패킷 크기`, `라우터`의 `패킷 처리 시간`에 영향을 받습니다. <br>

---

## 2.1.2 네트워크 토폴로지와 병목 현상

### 네트워크 토폴로지(network topology)의 종류

네트워크 토폴로지는 노드와 링크가 어떻게 `배치`되어 있는지에 대한 `방식` 또는 `연결 형태`를 의미합니다. <br>

- `트리`(tree)형

  - `계층형 토폴로지`라고 하며 트리 형태로 배치한 네트워크 구성을 말합니다.
  - 노드의 `추가/삭제가 용이`합니다.
  - `특정 노드에 트래픽이 집중`될 때 `하위 노드에 영향`을 끼칠 수 있습니다.

- `버스`(bus)형

  - `중앙 통신 회선` 하나에 여러 개의 노드가 연결되어 공유하는 네트워크 구성으로, 근거리 통신망(`LAN`)에서 사용합니다.
  - `설치 비용이 적`고 `신뢰성`이 우수합니다.
  - `중앙 통신 회선`에 노드 `추가/삭제가 용이`합니다.
  - `스푸핑`이 가능한 문제점이 있습니다.

```
💡 스푸핑이란?
송신과 관련 없는 다른 호스트에 가지 않도록 하는 스위칭 기능을 마비시키거나 속여서
LAN상에서 송신부의 패킷을 올바른 수신부가 아닌 악의적인 특정 노드에 해당 패킷이 오도록 처리하는 것을 말합니다.
```

- 스타(star)형

  - `중앙에 있는 노드`에 `모두 연결`된 네트워크 구성을 말합니다.
  - `노드 추가` 및 `에러 탐지`가 `용이`합니다.
  - 패킷의 `충돌 발생 가능성이 적`습니다.
  - 장애 노드가 중앙 노드가 아닐 경우 다른 노드에 영향을 끼치는 것이 적지만, `중앙 노드에 장애`가 발생할 경우에는 `전체 네트워크를 사용할 수 없`습니다.
  - `설치 비용`이 `많이` 듭니다.

- 링(ring)형

  - 각각의 노드가 `양 옆의 두 노드와 연결`하여 고리처럼 하나의 `연속된 길`을 통해 통신을 하는 망 구성 방식입니다.
  - `데이터`는 `노드에서 노드로` 이동하며, `고리 모양의 길`을 통해 `패킷을 처리`합니다.
  - 노드 수가 증가되어도 `네트워크상 손실이 거의 없고`, `충돌 발생 가능성이 적`습니다.
  - 노드의 `고장 발견`을 쉽게 찾을 수 있습니다.
  - 네트워크 `구성 변경이 어렵`습니다.
  - `회선에 장애`가 발생하면 전체 네트워크에 `크게 영향`을 끼칩니다.

- 메시(mesh)형
  - 망형 토폴로지라고도 하며 `그물망`처럼 연결되어 있는 구조입니다.
  - 한 단말 장치에 `장애가 발생`해도 `여러 개의 경로`가 존재하므로 네트워크를 `계속 사용`할 수 있습니다.
  - `트래픽 분석 처리`가 가능합니다.
  - 노드의 `추가가 어렵`고 `구축/운용 비용`이 `많이` 듭니다.

### 병목현상(bottleneck)이란?

병목현상이란 전체 `시스템의 성능`이나 `용량`이 `하나의 구성 요소`로 인해 `제한을 받는 현상`을 의미합니다. <br>
병의 몸통보다 병의 목 부분 내부 지름이 좁아 물이 상대적으로 천천히 쏟아지는 것처럼, 서비스 이벤트 시 트래픽이 많아져 사용자가 웹 사이트로 들어가지 못하는 것을 말합니다. <br><br>
이러한 병목 현상을 찾을 때 `네트워크 토폴로지`가 `중요한 기준`이 됩니다. <br>
네트워크 토폴로지의 형태를 확인하고, 어떠한 경로로 이루어져 있는지 파악해야 병목 현상을 올바르게 해결 할 수 있습니다. <br>
예를 들어 서비스 이용 시 대역폭을 크게 설정해도 지연 시간이 길게 발생한다면, 네트워크 토폴로지의 형태를 확인하여 게이트웨이로 이어지는 회선을 추가해서 병목 현상을 해결 할 수 있습니다. <br>

---

## 2.1.3 네트워크 분류

### 네트워크 규모 기반 분류

- `LAN`(Local Area Network)

  - 사무실과 개인적으로 소유 가능한 규모
  - 근거리 통신망을 의미하며 같은 건물이나 캠퍼스 같은 좁은 공간에서 운영됩니다.
  - 전송 속도가 빠르고 혼잡하지 않습니다.

- `MAN`(Metropolitan Area Network)

  - 서울시 등 시 정도의 규모
  - 대도시 지역 네트워크를 나타내며 도시 같은 넓은 지역에서 운영됩니다.
  - 전송 속도는 평균이며 LAN보다는 혼잡합니다.

- `WAN`(Wide Area Network)

  - 세계 규모
  - 공역 네트워크를 의미하며 국가 또는 대륙 같은 더 넓은 지역에서 운영됩니다.
  - 전송 속도는 낮으며 MAN보다 더 혼잡합니다.

---

## 2.1.4 네트워크 성능 분석 명령어

```
💡 네트워크 성능 분석을 하는 이유
애플리케이션 코드상에는 전혀 문제가 없는데 사용자가 서비스로부터 데이터를 가져오지 못하는 상황이 발생될 수 있습니다.
이는 네트워크 병목 현상일 가능성이 높으며 네트워크 대역폭, 토폴로지, 서버 CPU, 메모리 사용량, 네트워크 구성 등의 영향을 받습니다.
이 때 네트워크로부터 발생한 문제점일 경우 네트워크 성능 분석을 해봐야 합니다.
```

### ping(Packet INternet Grouper)

네트워크 상태를 확인하려는 대상 노드를 향해 `일정 크기의 패킷을 전송`하는 명령어입니다.<br>
이를 통해 해당 노드의 `패킷 수신 상태`와 `도달하기까지 시간` 등을 알 수 있으며, 해당 노드까지 네트워크가 잘 연결되어 있는지 `연결 상태`를 확인할 수 있습니다. <br>
`TCP/IP 프로토콜` 중 `ICMP` 프로토콜을 통해 동작하며, `ICMP를 지원`하거나 `traceroute를 차단하지 않는 경우`에만 테스팅이 가능합니다. <br>

### netstat

접속되어 있는 서비스들의 `네트워크 상태`를 표시하는 데 사용되는 명령어입니다. <br>
`네트워크 접속`, `라우팅 테이블`, `네트워크 프로토콜` 등 `리스트`를 보여줍니다.<br>
주로 서비스의 `포트가 열려 있는지 확인`할 때 사용합니다. <br>

### nslookup

`DNS`에 관련된 내용을 확인하기 위해 사용되는 명령어입니다. <br>
`특정 도메인`에 `매핑`된 `IP`를 확인하기 위해 사용합니다. <br>

### tracert

`윈도우`에서는 `tracert`, `리눅스`에서는 `traceroute`라는 명령어로 구동되며, <br>
목적지 노드까지 `네트워크 경로`를 확인할 때 사용하는 명령어입니다. <br>
목적지 노드까지 구간들 중 `어느 구간`에서 `응답 시간이 느려지는지` 등을 확인할 수 있습니다. <br>

```
💡 그 외 명령어들
ftp: 대형 파일 전송 테스팅
tcpdump: 노드로 오고 가는 패킷 캡쳐

💡 네트워크 분석 프로그램
wireshark, netmon
```

---

## 2.1.5 네트워크 프로토콜 표준화

네트워크 프로토콜이란 `다른 장치`들끼리 `데이터`를 `주고 받기 위해` 설정된 `공통된 인터페이스`를 의미합니다. <br>
`IEEE` 또는 `IETF`라는 `표준화 단체`가 이를 정합니다. <br><br>
`IEEE802.3`은 유선 LAN 프로토콜로, 유선으로 LAN을 구축할 때 쓰이는 프로토콜입니다.<br>
이를 통해 다른 기업이 만든 장치라도 서로 데이터를 수신할 수 있게 됩니다. <br><br>
대표적인 예시로 웹을 접속할 때 쓰이는 `HTTP`가 있습니다. <br>
서로 약속된 인터페이스를 통해 노드들은 웹 서비스를 기반으로 데이터를 주고받을 수 있게 됩니다. <br>
